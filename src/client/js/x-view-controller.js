(function(angular) {
	'use strict';

	angular.module('x-registries')
	.controller('xViewController', ['$scope', '$http', function($scope, $http) {

		$scope.schema = {
			type: 'object',
			title: 'Nadpis',
			properties: {
				baseData: {
					type: 'object',
					title: 'Základné údaje',
					properties: {
						clubName: {
							"title": "Názov klubu",
							"transCode": "schema.people.hockeyPlayerInfo.clubName",
							"required": false,
							type: 'string',
							"$objectLink2": {
								schema: 'uri://registries/company',
								fields: {
									"name": "baseData.name",
									"competition": "baseData.competitionCategory"
								}
							},
							"$objectLink2ForcedCriteria": [
								{
									"f": "baseData.competitionCategory",
									"op": "contains",
									"v": "1."
								}
							]
						},
						country: {
							type: 'string',
							title: 'Country',
							"enum": [
								'United States of America', 'Afghanistan', 'Albania', 'Algeria', 'Andorra', 'Angola', 'Antigua & Deps', 'Argentina', 'Armenia', 'Australia', 'Austria', 'Azerbaijan', 'Bahamas', 'Bahrain', 'Bangladesh', 'Barbados', 'Belarus', 'Belgium', 'Belize', 'Benin', 'Bhutan', 'Bolivia', 'Bosnia Herzegovina', 'Botswana', 'Brazil', 'Brunei', 'Bulgaria', 'Burkina', 'Burma', 'Burundi', 'Cambodia', 'Cameroon', 'Canada', 'Cape Verde', 'Central African Rep', 'Chad', 'Chile', 'People\'s Republic of China', 'Republic of China', 'Colombia', 'Comoros', 'Democratic Republic of the Congo', 'Republic of the Congo', 'Costa Rica,', 'Croatia', 'Cuba', 'Cyprus', 'Czech Republic', 'Danzig', 'Denmark', 'Djibouti', 'Dominica', 'Dominican Republic', 'East Timor', 'Ecuador', 'Egypt', 'El Salvador', 'Equatorial Guinea', 'Eritrea', 'Estonia', 'Ethiopia', 'Fiji', 'Finland', 'France', 'Gabon', 'Gaza Strip', 'The Gambia', 'Georgia', 'Germany', 'Ghana', 'Greece', 'Grenada', 'Guatemala', 'Guinea', 'Guinea-Bissau', 'Guyana', 'Haiti', 'Holy Roman Empire', 'Honduras', 'Hungary', 'Iceland', 'India', 'Indonesia', 'Iran', 'Iraq', 'Republic of Ireland', 'Israel', 'Italy', 'Ivory Coast', 'Jamaica', 'Japan', 'Jonathanland', 'Jordan', 'Kazakhstan', 'Kenya', 'Kiribati', 'North Korea', 'South Korea', 'Kosovo', 'Kuwait', 'Kyrgyzstan', 'Laos', 'Latvia', 'Lebanon', 'Lesotho', 'Liberia', 'Libya', 'Liechtenstein', 'Lithuania', 'Luxembourg', 'Macedonia', 'Madagascar', 'Malawi', 'Malaysia', 'Maldives', 'Mali', 'Malta', 'Marshall Islands', 'Mauritania', 'Mauritius', 'Mexico', 'Micronesia', 'Moldova', 'Monaco', 'Mongolia', 'Montenegro', 'Morocco', 'Mount Athos', 'Mozambique', 'Namibia', 'Nauru', 'Nepal', 'Newfoundland', 'Netherlands', 'New Zealand', 'Nicaragua', 'Niger', 'Nigeria', 'Norway', 'Oman', 'Ottoman Empire', 'Pakistan', 'Palau', 'Panama', 'Papua New Guinea', 'Paraguay', 'Peru', 'Philippines', 'Poland', 'Portugal', 'Prussia', 'Qatar', 'Romania', 'Rome', 'Russian Federation', 'Rwanda', 'St Kitts & Nevis', 'St Lucia', 'Saint Vincent & the', 'Grenadines', 'Samoa', 'San Marino', 'Sao Tome & Principe', 'Saudi Arabia', 'Senegal', 'Serbia', 'Seychelles', 'Sierra Leone', 'Singapore', 'Slovakia', 'Slovenia', 'Solomon Islands', 'Somalia', 'South Africa', 'Spain', 'Sri Lanka', 'Sudan', 'Suriname', 'Swaziland', 'Sweden', 'Switzerland', 'Syria', 'Tajikistan', 'Tanzania', 'Thailand', 'Togo', 'Tonga', 'Trinidad & Tobago', 'Tunisia', 'Turkey', 'Turkmenistan', 'Tuvalu', 'Uganda', 'Ukraine', 'United Arab Emirates', 'United Kingdom', 'Uruguay', 'Uzbekistan', 'Vanuatu', 'Vatican City', 'Venezuela', 'Vietnam', 'Yemen', 'Zambia', 'Zimbabwe',
							]
						},
						surName: {
							type: 'string',
							title: 'Priezvisko'
						},
						birthDate: {
							type: 'date',
							title: 'Dátum narodenia'
						},
						fullName: {
							title: "Celé meno",
							type: "string",
							calculation: {
								onlyEmpty: true,
								func: "concat",
								args: {
									1: {
										func: "get",
										args: {
											"path": "baseData.name"
										},
										watch: true
									},
									2: " ",
									3: {
										func: "get",
										args: {
											path: "baseData.surName"
										},
										watch: true
									}
								}
							}
						}
					}
				},
				sbaseData: {
					type: 'object',
					title: 'Základné údaje',
					properties: {
						name: {
							type: 'string',
							title: 'Meno'

						},
						surName: {
							type: 'string',
							title: 'Priezvisko'
						}
					}
				}
			}
		};

		// $http({ method : 'GET',url: '/dataset/get/schemas/nationality.json'})
		// .success(function(data, status, headers, config){
		// 	$scope.schema.properties.baseData.properties.country = data.country;
		// 	//console.log(arguments);
		// });

		$scope.schema2 = {
			type: 'object',
			title: 'Nadpis',
			properties: {
				baseData: {
					type: 'object',
					title: 'Základné údaje',
					properties: {
						surName: {
							type: 'string',
							title: 'Priezvisko'
						},
						name: {
							type: 'string',
							title: 'Meno'
						},
						createdOn: {
							type: 'date',
							title: 'Created'
						}
					}
				},
				coach: {
					type: 'object',
					title: 'Základné údaje',
					properties: {
						coachLicence: {
							type: 'string',
							title: 'Licencia'

						}

					}
				}
			}
		};

		$scope.model = {};

		$scope.model.data = {
			baseData: {
				country: 'Afghanistan',
				surName: 'priezvisko',
				birthDate: '20141212',
				clubName: {
					"baseData":{
						"name":{
							"v":"test",
							"c":"AZkAkQGCAZkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=="
						},
						"competitionCategory":"1.NHL"
					},
					"id":"5486e2939633d8ce22ec3dc3"
				},
				coach: {
					schema:"uri://",
					oid:345,
					id:345,
					baseData:{
						name: 'xx'
					},
					refdata:{
						'surname': "John",
						'name': "Hruska",
						'licence': "094567564",
						'cretedOn': "20130923"
					}
				}
			}
		};

		$scope.schema.properties.baseData.properties.country = {
			"title": "Státní příslušnost",
			"xxtransCode": "schema.people.baseData.nationality",
			"type": "string",
			"enum": [
				"CZE",
				"AFG",
				"ALA",
				"ALB",
				"DZA",
				"ASM",
				"VIR",
				"AND",
				"AGO",
				"AIA",
				"ATA",
				"ATG",
				"ARG",
				"ARM",
				"ABW",
				"AUS",
				"AZE",
				"BHS",
				"BHR",
				"BGD",
				"BRB",
				"BEL",
				"BLZ",
				"BLR",
				"BEN",
				"BMU",
				"BTN",
				"BOL",
				"BES",
				"BIH",
				"BWA",
				"BVT",
				"BRA",
				"IOT",
				"VGB",
				"BRN",
				"BGR",
				"BFA",
				"BDI",
				"COK",
				"CUW",
				"TCD",
				"MNE",
				"CZE",
				"CHN",
				"DNK",
				"COD",
				"DMA",
				"DOM",
				"DJI",
				"EGY",
				"ECU",
				"ERI",
				"EST",
				"ETH",
				"FRO",
				"FLK",
				"FJI",
				"PHL",
				"FIN",
				"FRA",
				"GUF",
				"ATF",
				"PYF",
				"GAB",
				"GMB",
				"GHA",
				"GIB",
				"GRD",
				"GRL",
				"GEO",
				"GLP",
				"GUM",
				"GTM",
				"GGY",
				"GIN",
				"GNB",
				"GUY",
				"HTI",
				"HMD",
				"HND",
				"HKG",
				"CHL",
				"HRV",
				"IND",
				"IDN",
				"IRQ",
				"IRN",
				"IRL",
				"ISL",
				"ITA",
				"ISR",
				"JAM",
				"JPN",
				"YEM",
				"JEY",
				"ZAF",
				"SGS",
				"SSD",
				"JOR",
				"CYM",
				"KHM",
				"CMR",
				"CAN",
				"CPV",
				"QAT",
				"KAZ",
				"KEN",
				"KIR",
				"CCK",
				"COL",
				"COM",
				"COG",
				"PRK",
				"KOR",
				"XKO",
				"CRI",
				"CUB",
				"KWT",
				"CYP",
				"KGZ",
				"LAO",
				"LSO",
				"LBN",
				"LBR",
				"LBY",
				"LIE",
				"LTU",
				"LVA",
				"LUX",
				"MAC",
				"MDG",
				"HUN",
				"MKD",
				"MYS",
				"MWI",
				"MDV",
				"MLI",
				"MLT",
				"IMN",
				"MAR",
				"MHL",
				"MTQ",
				"MUS",
				"MRT",
				"MYT",
				"UMI",
				"MEX",
				"FSM",
				"MDA",
				"MCO",
				"MNG",
				"MSR",
				"MOZ",
				"MMR",
				"NAM",
				"NRU",
				"DEU",
				"NPL",
				"NER",
				"NGA",
				"NIC",
				"NIU",
				"NLD",
				"NFK",
				"NOR",
				"NCL",
				"NZL",
				"OMN",
				"PAK",
				"PLW",
				"PSE",
				"PAN",
				"PNG",
				"PRY",
				"PER",
				"PCN",
				"CIV",
				"POL",
				"PRI",
				"PRT",
				"AUT",
				"REU",
				"GNQ",
				"ROU",
				"RUS",
				"RWA",
				"GRC",
				"SPM",
				"SLV",
				"WSM",
				"SMR",
				"SAU",
				"SEN",
				"MNP",
				"SYC",
				"SLE",
				"SGP",
				"SVN",
				"SOM",
				"ARE",
				"USA",
				"SRB",
				"CAF",
				"SDN",
				"SUR",
				"SHN",
				"LCA",
				"BLM",
				"KNA",
				"MAF",
				"SXM",
				"STP",
				"VCT",
				"SWZ",
				"SYR",
				"SLB",
				"ESP",
				"SJM",
				"LKA",
				"SWE",
				"CHE",
				"TJK",
				"TZA",
				"THA",
				"TWN",
				"TGO",
				"TKL",
				"TON",
				"TTO",
				"TUN",
				"TUR",
				"TKM",
				"TCA",
				"TUV",
				"UGA",
				"UKR",
				"URY",
				"UZB",
				"CXR",
				"VUT",
				"VAT",
				"GBR",
				"VEN",
				"VNM",
				"TLS",
				"WLF",
				"ZMB",
				"ESH",
				"ZWE"
			],
			"enumTransCodes": [
				"schemas.countries.enum.CZE",
				"schemas.countries.enum.AFG",
				"schemas.countries.enum.ALA",
				"schemas.countries.enum.ALB",
				"schemas.countries.enum.DZA",
				"schemas.countries.enum.ASM",
				"schemas.countries.enum.VIR",
				"schemas.countries.enum.AND",
				"schemas.countries.enum.AGO",
				"schemas.countries.enum.AIA",
				"schemas.countries.enum.ATA",
				"schemas.countries.enum.ATG",
				"schemas.countries.enum.ARG",
				"schemas.countries.enum.ARM",
				"schemas.countries.enum.ABW",
				"schemas.countries.enum.AUS",
				"schemas.countries.enum.AZE",
				"schemas.countries.enum.BHS",
				"schemas.countries.enum.BHR",
				"schemas.countries.enum.BGD",
				"schemas.countries.enum.BRB",
				"schemas.countries.enum.BEL",
				"schemas.countries.enum.BLZ",
				"schemas.countries.enum.BLR",
				"schemas.countries.enum.BEN",
				"schemas.countries.enum.BMU",
				"schemas.countries.enum.BTN",
				"schemas.countries.enum.BOL",
				"schemas.countries.enum.BES",
				"schemas.countries.enum.BIH",
				"schemas.countries.enum.BWA",
				"schemas.countries.enum.BVT",
				"schemas.countries.enum.BRA",
				"schemas.countries.enum.IOT",
				"schemas.countries.enum.VGB",
				"schemas.countries.enum.BRN",
				"schemas.countries.enum.BGR",
				"schemas.countries.enum.BFA",
				"schemas.countries.enum.BDI",
				"schemas.countries.enum.COK",
				"schemas.countries.enum.CUW",
				"schemas.countries.enum.TCD",
				"schemas.countries.enum.MNE",
				"schemas.countries.enum.CZE",
				"schemas.countries.enum.CHN",
				"schemas.countries.enum.DNK",
				"schemas.countries.enum.COD",
				"schemas.countries.enum.DMA",
				"schemas.countries.enum.DOM",
				"schemas.countries.enum.DJI",
				"schemas.countries.enum.EGY",
				"schemas.countries.enum.ECU",
				"schemas.countries.enum.ERI",
				"schemas.countries.enum.EST",
				"schemas.countries.enum.ETH",
				"schemas.countries.enum.FRO",
				"schemas.countries.enum.FLK",
				"schemas.countries.enum.FJI",
				"schemas.countries.enum.PHL",
				"schemas.countries.enum.FIN",
				"schemas.countries.enum.FRA",
				"schemas.countries.enum.GUF",
				"schemas.countries.enum.ATF",
				"schemas.countries.enum.PYF",
				"schemas.countries.enum.GAB",
				"schemas.countries.enum.GMB",
				"schemas.countries.enum.GHA",
				"schemas.countries.enum.GIB",
				"schemas.countries.enum.GRD",
				"schemas.countries.enum.GRL",
				"schemas.countries.enum.GEO",
				"schemas.countries.enum.GLP",
				"schemas.countries.enum.GUM",
				"schemas.countries.enum.GTM",
				"schemas.countries.enum.GGY",
				"schemas.countries.enum.GIN",
				"schemas.countries.enum.GNB",
				"schemas.countries.enum.GUY",
				"schemas.countries.enum.HTI",
				"schemas.countries.enum.HMD",
				"schemas.countries.enum.HND",
				"schemas.countries.enum.HKG",
				"schemas.countries.enum.CHL",
				"schemas.countries.enum.HRV",
				"schemas.countries.enum.IND",
				"schemas.countries.enum.IDN",
				"schemas.countries.enum.IRQ",
				"schemas.countries.enum.IRN",
				"schemas.countries.enum.IRL",
				"schemas.countries.enum.ISL",
				"schemas.countries.enum.ITA",
				"schemas.countries.enum.ISR",
				"schemas.countries.enum.JAM",
				"schemas.countries.enum.JPN",
				"schemas.countries.enum.YEM",
				"schemas.countries.enum.JEY",
				"schemas.countries.enum.ZAF",
				"schemas.countries.enum.SGS",
				"schemas.countries.enum.SSD",
				"schemas.countries.enum.JOR",
				"schemas.countries.enum.CYM",
				"schemas.countries.enum.KHM",
				"schemas.countries.enum.CMR",
				"schemas.countries.enum.CAN",
				"schemas.countries.enum.CPV",
				"schemas.countries.enum.QAT",
				"schemas.countries.enum.KAZ",
				"schemas.countries.enum.KEN",
				"schemas.countries.enum.KIR",
				"schemas.countries.enum.CCK",
				"schemas.countries.enum.COL",
				"schemas.countries.enum.COM",
				"schemas.countries.enum.COG",
				"schemas.countries.enum.PRK",
				"schemas.countries.enum.KOR",
				"schemas.countries.enum.XKO",
				"schemas.countries.enum.CRI",
				"schemas.countries.enum.CUB",
				"schemas.countries.enum.KWT",
				"schemas.countries.enum.CYP",
				"schemas.countries.enum.KGZ",
				"schemas.countries.enum.LAO",
				"schemas.countries.enum.LSO",
				"schemas.countries.enum.LBN",
				"schemas.countries.enum.LBR",
				"schemas.countries.enum.LBY",
				"schemas.countries.enum.LIE",
				"schemas.countries.enum.LTU",
				"schemas.countries.enum.LVA",
				"schemas.countries.enum.LUX",
				"schemas.countries.enum.MAC",
				"schemas.countries.enum.MDG",
				"schemas.countries.enum.HUN",
				"schemas.countries.enum.MKD",
				"schemas.countries.enum.MYS",
				"schemas.countries.enum.MWI",
				"schemas.countries.enum.MDV",
				"schemas.countries.enum.MLI",
				"schemas.countries.enum.MLT",
				"schemas.countries.enum.IMN",
				"schemas.countries.enum.MAR",
				"schemas.countries.enum.MHL",
				"schemas.countries.enum.MTQ",
				"schemas.countries.enum.MUS",
				"schemas.countries.enum.MRT",
				"schemas.countries.enum.MYT",
				"schemas.countries.enum.UMI",
				"schemas.countries.enum.MEX",
				"schemas.countries.enum.FSM",
				"schemas.countries.enum.MDA",
				"schemas.countries.enum.MCO",
				"schemas.countries.enum.MNG",
				"schemas.countries.enum.MSR",
				"schemas.countries.enum.MOZ",
				"schemas.countries.enum.MMR",
				"schemas.countries.enum.NAM",
				"schemas.countries.enum.NRU",
				"schemas.countries.enum.DEU",
				"schemas.countries.enum.NPL",
				"schemas.countries.enum.NER",
				"schemas.countries.enum.NGA",
				"schemas.countries.enum.NIC",
				"schemas.countries.enum.NIU",
				"schemas.countries.enum.NLD",
				"schemas.countries.enum.NFK",
				"schemas.countries.enum.NOR",
				"schemas.countries.enum.NCL",
				"schemas.countries.enum.NZL",
				"schemas.countries.enum.OMN",
				"schemas.countries.enum.PAK",
				"schemas.countries.enum.PLW",
				"schemas.countries.enum.PSE",
				"schemas.countries.enum.PAN",
				"schemas.countries.enum.PNG",
				"schemas.countries.enum.PRY",
				"schemas.countries.enum.PER",
				"schemas.countries.enum.PCN",
				"schemas.countries.enum.CIV",
				"schemas.countries.enum.POL",
				"schemas.countries.enum.PRI",
				"schemas.countries.enum.PRT",
				"schemas.countries.enum.AUT",
				"schemas.countries.enum.REU",
				"schemas.countries.enum.GNQ",
				"schemas.countries.enum.ROU",
				"schemas.countries.enum.RUS",
				"schemas.countries.enum.RWA",
				"schemas.countries.enum.GRC",
				"schemas.countries.enum.SPM",
				"schemas.countries.enum.SLV",
				"schemas.countries.enum.WSM",
				"schemas.countries.enum.SMR",
				"schemas.countries.enum.SAU",
				"schemas.countries.enum.SEN",
				"schemas.countries.enum.MNP",
				"schemas.countries.enum.SYC",
				"schemas.countries.enum.SLE",
				"schemas.countries.enum.SGP",
				"schemas.countries.enum.SVN",
				"schemas.countries.enum.SOM",
				"schemas.countries.enum.ARE",
				"schemas.countries.enum.USA",
				"schemas.countries.enum.SRB",
				"schemas.countries.enum.CAF",
				"schemas.countries.enum.SDN",
				"schemas.countries.enum.SUR",
				"schemas.countries.enum.SHN",
				"schemas.countries.enum.LCA",
				"schemas.countries.enum.BLM",
				"schemas.countries.enum.KNA",
				"schemas.countries.enum.MAF",
				"schemas.countries.enum.SXM",
				"schemas.countries.enum.STP",
				"schemas.countries.enum.VCT",
				"schemas.countries.enum.SWZ",
				"schemas.countries.enum.SYR",
				"schemas.countries.enum.SLB",
				"schemas.countries.enum.ESP",
				"schemas.countries.enum.SJM",
				"schemas.countries.enum.LKA",
				"schemas.countries.enum.SWE",
				"schemas.countries.enum.CHE",
				"schemas.countries.enum.TJK",
				"schemas.countries.enum.TZA",
				"schemas.countries.enum.THA",
				"schemas.countries.enum.TWN",
				"schemas.countries.enum.TGO",
				"schemas.countries.enum.TKL",
				"schemas.countries.enum.TON",
				"schemas.countries.enum.TTO",
				"schemas.countries.enum.TUN",
				"schemas.countries.enum.TUR",
				"schemas.countries.enum.TKM",
				"schemas.countries.enum.TCA",
				"schemas.countries.enum.TUV",
				"schemas.countries.enum.UGA",
				"schemas.countries.enum.UKR",
				"schemas.countries.enum.URY",
				"schemas.countries.enum.UZB",
				"schemas.countries.enum.CXR",
				"schemas.countries.enum.VUT",
				"schemas.countries.enum.VAT",
				"schemas.countries.enum.GBR",
				"schemas.countries.enum.VEN",
				"schemas.countries.enum.VNM",
				"schemas.countries.enum.TLS",
				"schemas.countries.enum.WLF",
				"schemas.countries.enum.ZMB",
				"schemas.countries.enum.ESH",
				"schemas.countries.enum.ZWE"
			],
			"required": true,
			"render": {
				"component": "psui-selectbox",
				"searchable": true
			}
		};


	}]);
}(angular));
