<h1>Portálový editor</h1>
<fieldset class="form-group" style="background-color: black; padding: 10px;" ng-show="mode !== 'edit'">
<div class="btn-group pull-right">
	<button class="btn btn-primary btn-ok" ng-click="edit();"><i class="glyphicon-pencil"></i>Editovať</button>
	<button class="btn btn-primary btn-ok" ng-click="addNew();"><i class="glyphicon-plus-sign"></i>Nový</button>
</div>
</fieldset>
<div ng-show="mode === 'edit'">
<fieldset class="form-group" style="background-color: black; padding: 10px;">
<div class="btn-group">
	<button class="btn btn-primary btn-ok" ng-click="showBlockSelector();"><i class="glyphicon-plus-sign"></i>Pridať blok</button>
</div>
<div class="btn-group pull-right">
	<button class="btn btn-secondary btn-cancel" ng-click="cancel();"><i class="glyphicon-remove"></i>Zrušiť</button>
	<button class="btn btn-primary btn-ok" ng-click="save();"><i class="glyphicon-ok"></i>Uložiť</button>
</div>
</fieldset>
<form class="form">
<fieldset class="form-group" style="background-color: black; padding: 10px;" ng-show="mode === 'edit'">
<div style="background-color: white; padding-top: 10px; padding-bottom: 10px;">
	<div class="form-group row">
		<label class="col-sm-2 control-label">Názov:</label>
		<div class="col-sm-4"><div class="input-group"><input class="form-control" ng-model="model.meta.title"></input></div></div>
	</div>
	<div class="form-group row">
		<label class="col-sm-2 control-label">Template:</label>
		<div class="col-sm-4"><div class="input-group"><select ng-model="model.meta.template" class="form-control" ng-options="template.meta.template as name for (name, template) in templates" ng-change="templateChanged();"></select></div></div>
	</div>
	<div class="form-group row">
		<label class="col-sm-2 control-label">Publikovať?:</label>
		<div class="col-sm-4"><div class="input-group"><input type="checkbox" ng-model="model.meta.enabled"></input></div></div>
	</div>
	<div class="form-group row">
		<label class="col-sm-2 control-label">Publikovať od:</label>
		<div class="col-sm-4"><div class="input-group psui-wrapper"><input class="form-control" psui-datepicker="" ng-model="model.meta.publishFrom"></input></div></div>
	</div>
	<div class="form-group row">
		<label class="col-sm-2 control-label">Tagy:</label>
		<div class="col-sm-4"><div class="input-group"><div xpsui-multistring-edit ng-model="model.meta.tags"></div></div></div>
	</div>
</div>
</form>
</fieldset>
</div>

</div>
<div id="portal-edit-block-selector" ng-show="blockSelectorShown" style="position:fixed; top:0; width: 100%; height: 100%; left:0; background-color: rgba(128,128,128,0.5); z-index: 5; display: table;">
	<div style="display: table-cell; vertical-align: middle;">
	<div style="display: block; margin-left: auto; margin-right: auto; max-width: 60%; background-color: black;">
		<div style="float: right;"><a ng-click="hideBlockSelector();"><i class="glyphicon glyphicon-remove"></i> </a></div>
		<div style="color: white;">Výber bloku</div>
		<div style="overflow: auto; height: 500px;">
	<table class="portal-edit-block-selector-block" style="width: 100%; margin: auto; background-color: black;">
		<tr ng-repeat="(name, block) in blocks" ng-click="selectBlock(name)"><td style="padding: 10px;"><img ng-src="{{block.meta.icon}}" /></td><td style="padding: 10px; color: white;"><div ng-bind-html="makeSafe(block.meta.desc);"></div</td></tr>
	</table>
		</div>
	</div>
	</div>
</div>
<section id="portal-editor-edit" ng-include="getViewTemplate()">
<section>

